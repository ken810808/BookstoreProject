jQuery(function ()
{ jQuery("#visual").topAnimation(); jQuery("#introduction .btn").topCollapse() }); (function (b) { var a = function (d, c) { this.options = c; this.section = b(this.options.childSelector, d); this.initialize(); b(window).on("scroll", b.proxy(this.check, this)) }; a.prototype = { initialize: function () { b(this.options.targetTxt, this.section).css("visibility", "hidden") }, check: function () { var c = this; var e = b(window); var f = e.height() * this.options.displayRate; var d = e.scrollTop(); this.section.each(function () { if (d + f > b(this).offset().top && !b(this).hasClass(c.options.visibleClass)) { c.shown(b(this)); b(this).addClass(c.options.visibleClass) } }); if (this.section.last().hasClass(this.options.visibleClass)) { this.destroy() } }, shown: function (c) { c.find(this.options.targetTxt).css("visibility", "visible").lettering().animateLetters({ top: this.options.animationSettings.startPosition, opacity: 0 }, { top: 0, opacity: 1 }, { randomOrder: this.options.animationSettings.randomOrder, time: this.options.animationSettings.dropTime, reset: this.options.animationSettings.letteringReset }) }, destroy: function () { b(window).off("scroll") } }; b.fn.topAnimation = function () { var c = b.fn.topAnimation.defaults; new a(b(this), c) }; b.fn.topAnimation.defaults = { childSelector: "section", targetTxt: "h2", targetImg: ".pct", visibleClass: "in", displayRate: 0.7, animationSettings: { startPosition: -20, randomOrder: true, dropTime: 470, letteringReset: true } } })(jQuery); (function (a) { var b = function (d, c) { this.element = d; this.options = c; this.slideBox = a(this.options.slideBox); this.fadeBox = a(this.options.fadeBox); this.initialize(); this.element.on("click", a.proxy(this.check, this)) }; b.prototype = { initialize: function () { this.slideBox.hide(); this.fadeBox.css("opacity", 0); this.isVisible = false }, check: function () { (this.isVisible) ? this.hidden() : this.shown() }, shown: function () { var c = this; this.slideBox.stop(true).slideDown(this.options.slideSpeed, function () { c.fadeBox.stop(true).delay(c.options.delayTime).animate({ opacity: 1 }, c.options.fadeInSpeed) }); this.isVisible = true }, hidden: function () { var c = this; this.fadeBox.stop(true).animate({ opacity: 0 }, function () { c.slideBox.stop(true).delay(c.options.delayTime).slideUp(c.options.slideSpeed) }); this.isVisible = false } }; a.fn.topCollapse = function () { var c = a.fn.topCollapse.defaults; return this.each(function () { new b(a(this), c) }) }; a.fn.topCollapse.defaults = { slideBox: "#introduction .content", fadeBox: "#introduction .inner", fadeInSpeed: 800, slideSpeed: 600, delayTime: 100 } })(jQuery);